/* Mahima Online School - Main Stylesheet */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 98%;
    --foreground: 0 0% 13%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 13%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 13%;

    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 100%;

    --secondary: 172 66% 50%;
    --secondary-foreground: 0 0% 100%;

    --muted: 220 14% 90%;
    --muted-foreground: 220 8% 46%;

    --accent: 27 98% 54%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    --border: 220 13% 88%;
    --input: 220 13% 88%;
    --ring: 262 83% 58%;

    --radius: 0.625rem;

    --sidebar-background: 225 25% 15%;
    --sidebar-foreground: 220 14% 90%;
    --sidebar-primary: 262 83% 65%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 225 25% 22%;
    --sidebar-accent-foreground: 220 14% 90%;
    --sidebar-border: 225 20% 22%;
    --sidebar-ring: 262 83% 58%;

    --chart-1: 262 83% 58%;
    --chart-2: 172 66% 50%;
    --chart-3: 27 98% 54%;
    --chart-4: 142 71% 45%;
    --chart-5: 0 84% 60%;

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
  }

  .dark {
    --background: 225 25% 8%;
    --foreground: 220 14% 90%;

    --card: 225 25% 11%;
    --card-foreground: 220 14% 90%;

    --popover: 225 25% 13%;
    --popover-foreground: 220 14% 90%;

    --primary: 262 83% 65%;
    --primary-foreground: 0 0% 100%;

    --secondary: 172 66% 50%;
    --secondary-foreground: 0 0% 100%;

    --muted: 225 20% 18%;
    --muted-foreground: 220 10% 55%;

    --accent: 27 98% 54%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    --border: 225 20% 18%;
    --input: 225 20% 18%;
    --ring: 262 83% 65%;

    --sidebar-background: 225 28% 6%;
    --sidebar-foreground: 220 14% 88%;
    --sidebar-primary: 262 83% 65%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 225 25% 14%;
    --sidebar-accent-foreground: 220 14% 88%;
    --sidebar-border: 225 20% 15%;
    --sidebar-ring: 262 83% 65%;

    --chart-1: 262 83% 70%;
    --chart-2: 172 66% 55%;
    --chart-3: 27 98% 58%;
    --chart-4: 142 71% 50%;
    --chart-5: 0 84% 65%;

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
}

@layer utilities {
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* ========== MAHIMA LOGO LOADER ANIMATION ========== */
@keyframes mahima-pulse {
  0% {
    transform: scale(0.95);
    opacity: 0.7;
  }
  50% {
    transform: scale(1.08);
    opacity: 1;
  }
  100% {
    transform: scale(0.95);
    opacity: 0.7;
  }
}

@keyframes mahima-ring {
  0% {
    transform: scale(0.8);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.2);
    opacity: 0;
  }
  100% {
    transform: scale(0.8);
    opacity: 0.6;
  }
}

.mahima-loader-logo {
  animation: mahima-pulse 1.8s ease-in-out infinite;
}

.mahima-loader-ring {
  animation: mahima-ring 1.8s ease-in-out infinite;
}

/* ========== VIDEO PLAYER - ANTI-PIRACY STYLES ========== */
.secure-video-player,
.student-video-player,
.mahima-player,
.white-label-player,
.mahima-ghost-player {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  touch-action: manipulation;
}

/* ========== WHITE LABEL PLAYER ========== */
.white-label-player {
  position: relative;
}

.white-label-player iframe {
  pointer-events: auto;
}

/* Hide YouTube UI elements */
.white-label-player .ytp-chrome-top,
.white-label-player .ytp-share-button,
.white-label-player .ytp-watch-later-button,
.white-label-player .ytp-watermark,
.white-label-player .ytp-youtube-button,
.white-label-player .ytp-title,
.white-label-player .ytp-title-channel,
.white-label-player .ytp-title-link,
.white-label-player .ytp-show-cards-title {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* ========== MAHIMA GHOST PLAYER - COMPLETE YOUTUBE BYPASS ========== */
.mahima-ghost-player {
  position: relative;
}

/* iframe receives no pointer events - ghost overlay handles everything */
.mahima-ghost-player iframe {
  pointer-events: none !important;
}

/* Hide ALL YouTube UI elements - COMPREHENSIVE LIST */
.mahima-ghost-player .ytp-chrome-top,
.mahima-ghost-player .ytp-chrome-bottom,
.mahima-ghost-player .ytp-share-button,
.mahima-ghost-player .ytp-watch-later-button,
.mahima-ghost-player .ytp-watermark,
.mahima-ghost-player .ytp-youtube-button,
.mahima-ghost-player .ytp-title,
.mahima-ghost-player .ytp-title-channel,
.mahima-ghost-player .ytp-title-link,
.mahima-ghost-player .ytp-show-cards-title,
.mahima-ghost-player .ytp-menuitem[aria-label*="Share"],
.mahima-ghost-player .ytp-popup,
.mahima-ghost-player .ytp-contextmenu,
.mahima-ghost-player .ytp-ce-element,
.mahima-ghost-player .ytp-endscreen-content,
.mahima-ghost-player .ytp-pause-overlay,
.mahima-ghost-player .ytp-gradient-top,
.mahima-ghost-player .ytp-gradient-bottom,
.mahima-ghost-player .ytp-spinner,
.mahima-ghost-player .ytp-large-play-button,
.mahima-ghost-player .ytp-cued-thumbnail-overlay,
.mahima-ghost-player .ytp-error,
.mahima-ghost-player .annotation,
.mahima-ghost-player .iv-branding,
.mahima-ghost-player .ytp-impression-link,
.mahima-ghost-player .ytp-button[aria-label*="YouTube"],
.mahima-ghost-player .branding-img-container {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* ADDITIONAL YouTube UI blocking - Cover link icon and recommendation thumbnails */
.mahima-ghost-player .ytp-ce-link-button,
.mahima-ghost-player .ytp-ce-video-title,
.mahima-ghost-player .ytp-ce-channel-title,
.mahima-ghost-player .ytp-ce-video-duration,
.mahima-ghost-player .ytp-ce-size-640,
.mahima-ghost-player .ytp-ce-size-1280,
.mahima-ghost-player [class*="ytp-ce"],
.mahima-ghost-player [class*="ytp-pause"],
.mahima-ghost-player .ytp-share-panel,
.mahima-ghost-player .ytp-sb-subscribe,
.mahima-ghost-player .ytp-iv-video-content,
.mahima-ghost-player .ytp-pause-overlay,
.mahima-ghost-player .ytp-pause-overlay-container,
.mahima-ghost-player .iv-promo,
.mahima-ghost-player .iv-promo-contents {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Complete YouTube link/logo blocker */
.mahima-ghost-player a[href*="youtube"],
.mahima-ghost-player a[href*="youtu.be"],
.mahima-ghost-player .ytp-logo,
.mahima-ghost-player .ytp-button[data-tooltip-target-id*="logo"],
.mahima-ghost-player img[src*="yt3.ggpht"],
.mahima-ghost-player img[src*="youtube"] {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Hide YouTube end screen completely */
.mahima-ghost-player .ytp-endscreen-content,
.mahima-ghost-player .ytp-endscreen-previous,
.mahima-ghost-player .ytp-endscreen-next,
.mahima-ghost-player .ytp-ce-element,
.mahima-ghost-player .ytp-ce-covering-overlay,
.mahima-ghost-player .ytp-ce-element-shadow,
.mahima-ghost-player .ytp-ce-covering-image,
.mahima-ghost-player .ytp-ce-expanding-image,
.mahima-ghost-player .ytp-ce-video,
.mahima-ghost-player .ytp-ce-playlist,
.mahima-ghost-player .ytp-ce-channel,
.mahima-ghost-player .ytp-ce-website,
.mahima-ghost-player .ytp-related-on-screen,
.mahima-ghost-player .ytp-share-button-visible,
.mahima-ghost-player .ytp-pause-overlay-container,
.mahima-ghost-player a[href*="youtube.com"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* ========== FULLSCREEN LAYOUT - NO CROPPING, CONTROLS VISIBLE ========== */
.mahima-ghost-player:fullscreen,
.mahima-ghost-player:-webkit-full-screen {
  width: 100vw !important;
  height: 100vh !important;
  max-width: 100vw !important;
  max-height: 100vh !important;
  background: #000 !important;
  display: flex !important;
  flex-direction: column !important;
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 0 !important;
  overflow: hidden !important;
}

/* Video container fills available space while maintaining aspect ratio */
.mahima-ghost-player:fullscreen .mahima-video-container,
.mahima-ghost-player:-webkit-full-screen .mahima-video-container,
.mahima-ghost-player:fullscreen .aspect-video,
.mahima-ghost-player:-webkit-full-screen .aspect-video {
  flex: 1 !important;
  width: 100% !important;
  height: auto !important;
  max-height: calc(100vh - 70px) !important;
  min-height: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative !important;
}

/* iframe fits container without cropping - proper aspect ratio */
.mahima-ghost-player:fullscreen iframe,
.mahima-ghost-player:-webkit-full-screen iframe {
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
  max-height: 100% !important;
  aspect-ratio: 16/9 !important;
  object-fit: contain !important;
}

/* Controls bar fixed at bottom with safe-area support */
.mahima-ghost-player:fullscreen .mahima-controls-bar,
.mahima-ghost-player:-webkit-full-screen .mahima-controls-bar {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 2147483646 !important;
  padding-bottom: max(12px, env(safe-area-inset-bottom)) !important;
  background: linear-gradient(to top, rgba(0,0,0,0.95), rgba(0,0,0,0.6), transparent) !important;
}

/* Watermark position in fullscreen - above controls, extreme bottom-right */
.mahima-ghost-player:fullscreen .mahima-watermark,
.mahima-ghost-player:-webkit-full-screen .mahima-watermark {
  position: fixed !important;
  bottom: 90px !important;
  right: 16px !important;
  z-index: 2147483645 !important;
  pointer-events: none !important;
}

/* End screen overlay - HIGHEST z-index to cover everything including YouTube UI */
.mahima-ghost-player:fullscreen .mahima-end-screen,
.mahima-ghost-player:-webkit-full-screen .mahima-end-screen {
  position: fixed !important;
  inset: 0 !important;
  z-index: 2147483647 !important;
}

/* Ghost overlay z-index in fullscreen */
.mahima-ghost-player:fullscreen .z-40,
.mahima-ghost-player:-webkit-full-screen .z-40 {
  z-index: 2147483644 !important;
}

/* Pause blocker overlay z-index in fullscreen */
.mahima-ghost-player:fullscreen .z-\\[39\\],
.mahima-ghost-player:-webkit-full-screen .z-\\[39\\] {
  z-index: 2147483643 !important;
}

/* ========== WHITE LABEL PLAYER FULLSCREEN ========== */
.white-label-player:fullscreen,
.white-label-player:-webkit-full-screen {
  width: 100vw !important;
  height: 100vh !important;
  background: #000 !important;
}

.white-label-player:fullscreen iframe,
.white-label-player:-webkit-full-screen iframe {
  transform: none !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
}

/* Blue progress bar for custom controls */
.mahima-ghost-player .progress-bar {
  background: #1E90FF;
}

/* Slider customization for volume */
.mahima-ghost-player [role="slider"] {
  --slider-track: rgba(255, 255, 255, 0.3);
  --slider-range: #1E90FF;
  --slider-thumb: #1E90FF;
}

/* Play button styling */
.mahima-play-button {
  background: hsl(var(--primary));
  transition: transform 0.3s ease;
}

.mahima-play-button:hover {
  transform: scale(1.1);
}
